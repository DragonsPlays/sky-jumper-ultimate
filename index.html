<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sky Jumper - Dragons_Plays Ultimate</title>
    
    <!-- FIREBASE -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Arial, sans-serif; min-height: 100vh; background: linear-gradient(135deg, #0f0c29, #302b63, #24243e); color: white; overflow-x: hidden; }

        #loginScreen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, #667eea, #764ba2); display: flex; justify-content: center; align-items: center; z-index: 9999; }
        .loginBox { background: white; padding: 35px; border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.4); text-align: center; max-width: 400px; width: 90%; color: #333; }
        .loginBox h1 { color: #764ba2; margin-bottom: 5px; }
        .loginBox p { color: #888; margin-bottom: 20px; font-size: 14px; }
        .loginBox input { width: 100%; padding: 14px; margin: 8px 0; border: 2px solid #ddd; border-radius: 10px; font-size: 15px; }
        .loginBox input:focus { border-color: #764ba2; outline: none; }
        .loginBox button { width: 100%; padding: 14px; margin: 8px 0; border: none; border-radius: 10px; font-size: 15px; font-weight: bold; cursor: pointer; transition: all 0.3s; }
        .loginBox button:hover { transform: translateY(-2px); box-shadow: 0 5px 20px rgba(0,0,0,0.2); }
        .btn-main { background: linear-gradient(135deg, #667eea, #764ba2); color: white; }
        .btn-guest { background: #f0f0f0; color: #666; }
        .tabs { display: flex; margin-bottom: 20px; }
        .tabs button { flex: 1; padding: 12px; background: #f0f0f0; border: none; cursor: pointer; font-weight: bold; color: #666; transition: all 0.2s; }
        .tabs button.active { background: linear-gradient(135deg, #667eea, #764ba2); color: white; }
        .tabs button:first-child { border-radius: 10px 0 0 10px; }
        .tabs button:last-child { border-radius: 0 10px 10px 0; }
        .divider { display: flex; align-items: center; margin: 20px 0; color: #bbb; }
        .divider::before, .divider::after { content: ''; flex: 1; height: 1px; background: #ddd; }
        .divider span { padding: 0 15px; font-size: 13px; }
        .msgBox { padding: 10px; border-radius: 8px; margin: 10px 0; font-size: 13px; }
        .msgBox.error { background: #ffe0e0; color: #c00; }
        .msgBox.success { background: #e0ffe0; color: #080; }
        .msgBox.loading { background: #e0e0ff; color: #008; }

        #gameScreen { display: none; padding: 10px; }
        .header { display: flex; justify-content: space-between; align-items: center; padding: 12px 20px; background: rgba(255,255,255,0.08); border-radius: 15px; margin-bottom: 10px; flex-wrap: wrap; gap: 10px; }
        .userInfo { display: flex; align-items: center; gap: 12px; }
        .avatar { width: 48px; height: 48px; border-radius: 50%; background: linear-gradient(135deg, #667eea, #764ba2); display: flex; align-items: center; justify-content: center; font-size: 24px; border: 3px solid rgba(255,255,255,0.3); }
        .userName { font-weight: bold; font-size: 16px; }
        .badge { padding: 4px 12px; border-radius: 20px; font-size: 10px; font-weight: bold; margin-left: 8px; }
        .badge-owner { background: linear-gradient(135deg, #FFD700, #FFA500); color: #333; animation: glow 2s infinite; }
        .badge-admin { background: linear-gradient(135deg, #e74c3c, #c0392b); color: white; }
        .badge-mod { background: linear-gradient(135deg, #3498db, #2980b9); color: white; }
        .badge-vip { background: linear-gradient(135deg, #9b59b6, #8e44ad); color: white; }
        @keyframes glow { 0%,100% { box-shadow: 0 0 10px rgba(255,215,0,0.5); } 50% { box-shadow: 0 0 25px rgba(255,215,0,0.9); } }
        .stats { display: flex; gap: 12px; flex-wrap: wrap; }
        .stat { background: rgba(255,255,255,0.1); padding: 8px 16px; border-radius: 25px; font-size: 13px; font-weight: bold; }

        .mainArea { display: flex; gap: 15px; flex-wrap: wrap; justify-content: center; }
        .gameArea { background: rgba(255,255,255,0.05); padding: 15px; border-radius: 15px; }
        canvas { border: 4px solid rgba(255,255,255,0.2); border-radius: 12px; display: block; cursor: pointer; background: #1a1a2e; }

        .sidePanel { background: rgba(255,255,255,0.05); padding: 15px; border-radius: 15px; width: 300px; max-height: 580px; overflow-y: auto; }
        .sidePanel h3 { color: #fdcb6e; font-size: 14px; margin: 15px 0 10px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 8px; }
        .sidePanel h3:first-child { margin-top: 0; }

        .btns { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 12px; justify-content: center; }
        .btns button { padding: 10px 16px; border: none; border-radius: 25px; font-size: 12px; font-weight: bold; cursor: pointer; transition: all 0.2s; }
        .btns button:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
        .btn-play { background: linear-gradient(135deg, #00b894, #00a085); color: white; }
        .btn-coop { background: linear-gradient(135deg, #0984e3, #0652DD); color: white; }
        .btn-shop { background: linear-gradient(135deg, #fdcb6e, #f39c12); color: #333; }
        .btn-yt { background: linear-gradient(135deg, #e74c3c, #c0392b); color: white; }
        .btn-pix { background: linear-gradient(135deg, #00cec9, #00b894); color: white; }
        .btn-admin { background: linear-gradient(135deg, #d63031, #b71540); color: white; }
        .btn-out { background: rgba(255,255,255,0.1); color: #aaa; }

        #adminPanel { display: none; position: fixed; top: 0; right: -420px; width: 400px; height: 100%; background: linear-gradient(180deg, #1a1a2e, #0d0d1a); box-shadow: -5px 0 40px rgba(0,0,0,0.6); z-index: 3000; transition: right 0.3s ease; overflow-y: auto; padding: 20px; }
        #adminPanel.open { right: 0; }
        .adminHead { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid rgba(255,255,255,0.1); }
        .adminSection { background: rgba(255,255,255,0.05); padding: 15px; border-radius: 12px; margin-bottom: 12px; }
        .adminSection h4 { color: #fdcb6e; font-size: 13px; margin-bottom: 10px; }
        .adminSection input, .adminSection select, .adminSection textarea { width: 100%; padding: 10px; margin: 5px 0; border: none; border-radius: 8px; background: rgba(255,255,255,0.1); color: white; font-size: 13px; }
        .adminSection button { width: 100%; padding: 10px; margin: 4px 0; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 12px; transition: all 0.2s; }
        .btn-broadcast { background: linear-gradient(135deg, #9b59b6, #8e44ad); color: white; }
        .btn-event { background: linear-gradient(135deg, #f39c12, #d68910); color: white; }
        .btn-reward { background: linear-gradient(135deg, #27ae60, #1e8449); color: white; }
        .btn-role { background: linear-gradient(135deg, #3498db, #2980b9); color: white; }

        #globalMsg { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 40px 60px; border-radius: 20px; text-align: center; z-index: 5000; background: linear-gradient(135deg, rgba(0,0,0,0.95), rgba(20,20,40,0.95)); border: 4px solid; max-width: 90%; animation: msgPop 0.5s ease; }
        @keyframes msgPop { from { transform: translate(-50%,-50%) scale(0.5); opacity: 0; } to { transform: translate(-50%,-50%) scale(1); opacity: 1; } }
        #globalMsg h2 { font-size: 26px; margin-bottom: 12px; }
        #globalMsg p { font-size: 18px; margin-bottom: 15px; line-height: 1.5; }
        #globalMsg .from { font-size: 13px; color: #888; }

        .modal { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: linear-gradient(180deg, #2d2d44, #1a1a2e); padding: 25px; border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.6); z-index: 2001; max-width: 500px; width: 90%; max-height: 80vh; overflow-y: auto; }
        .modal h2 { text-align: center; margin-bottom: 15px; }
        .overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 2000; }
        .closeBtn { position: absolute; top: 12px; right: 12px; background: #e74c3c; color: white; border: none; width: 32px; height: 32px; border-radius: 50%; cursor: pointer; font-size: 18px; }

        .itemGrid { display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 10px; margin: 10px 0; }
        .itemCard { background: rgba(255,255,255,0.08); border-radius: 12px; padding: 12px; text-align: center; cursor: pointer; transition: all 0.2s; border: 2px solid transparent; }
        .itemCard:hover { background: rgba(255,255,255,0.12); transform: translateY(-3px); }
        .itemCard.owned { border-color: #27ae60; }
        .itemCard.equipped { border-color: #f39c12; box-shadow: 0 0 15px rgba(243,156,18,0.4); }
        .itemCard.exclusive { background: linear-gradient(135deg, rgba(231,76,60,0.2), rgba(192,57,43,0.2)); border-color: #e74c3c; }
        .itemIcon { font-size: 28px; margin-bottom: 5px; }
        .itemName { font-size: 10px; font-weight: bold; }
        .itemPrice { font-size: 9px; color: #00cec9; margin-top: 3px; }
        .itemSkill { font-size: 8px; color: #a29bfe; margin-top: 3px; }

        #skillBar { display: none; position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: rgba(0,0,0,0.85); padding: 12px 25px; border-radius: 35px; z-index: 100; }
        .skillBtn { width: 55px; height: 55px; border-radius: 50%; border: 3px solid #555; background: linear-gradient(135deg, #333, #1a1a1a); cursor: pointer; font-size: 26px; display: flex; align-items: center; justify-content: center; position: relative; transition: all 0.2s; }
        .skillBtn:hover:not(.cd) { transform: scale(1.1); border-color: #fff; }
        .skillBtn.ready { border-color: #2ecc71; box-shadow: 0 0 15px rgba(46,204,113,0.6); }
        .skillBtn.cd { opacity: 0.4; cursor: not-allowed; }
        .skillBtn .cdText { position: absolute; font-size: 14px; font-weight: bold; color: #fff; }

        #coopInfo { display: none; position: fixed; top: 80px; left: 50%; transform: translateX(-50%); background: rgba(0,0,0,0.8); padding: 10px 25px; border-radius: 25px; z-index: 100; gap: 25px; }
        .pDot { width: 14px; height: 14px; border-radius: 50%; display: inline-block; margin-right: 8px; }

        #notif { position: fixed; top: 20px; left: 50%; transform: translateX(-50%) translateY(-100px); padding: 15px 30px; border-radius: 15px; z-index: 4000; transition: transform 0.4s ease; font-weight: bold; text-align: center; background: linear-gradient(135deg, #667eea, #764ba2); }
        #notif.show { transform: translateX(-50%) translateY(0); }

        .colGrid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
        .colItem { background: rgba(255,255,255,0.08); padding: 10px; border-radius: 10px; text-align: center; opacity: 0.3; }
        .colItem.has { opacity: 1; background: linear-gradient(135deg, rgba(155,89,182,0.3), rgba(142,68,173,0.3)); border: 2px solid #9b59b6; }
        .colItem .ico { font-size: 24px; }
        .colItem .nm { font-size: 9px; margin-top: 4px; }

        #msgLog { background: rgba(0,0,0,0.3); padding: 10px; border-radius: 10px; max-height: 120px; overflow-y: auto; font-size: 11px; }

        @media (max-width: 768px) { .sidePanel { width: 100%; } #adminPanel { width: 100%; right: -100%; } }
    </style>
</head>
<body>
    <!-- LOGIN -->
    <div id="loginScreen">
        <div class="loginBox">
            <h1>ğŸ¦ Sky Jumper</h1>
            <p>Dragons_Plays Ultimate Edition</p>
            <div class="tabs">
                <button class="active" onclick="switchTab('login')">Entrar</button>
                <button onclick="switchTab('register')">Criar Conta</button>
            </div>
            <div id="msgArea"></div>
            <div id="tabLogin">
                <input type="email" id="inEmail" placeholder="ğŸ“§ Email">
                <input type="password" id="inPass" placeholder="ğŸ”’ Senha">
                <button class="btn-main" onclick="doLogin()">Entrar</button>
            </div>
            <div id="tabRegister" style="display:none;">
                <input type="text" id="regName" placeholder="ğŸ‘¤ Nome de usuÃ¡rio">
                <input type="email" id="regEmail" placeholder="ğŸ“§ Email">
                <input type="password" id="regPass" placeholder="ğŸ”’ Senha (mÃ­n. 6 caracteres)">
                <input type="password" id="regPass2" placeholder="ğŸ”’ Confirmar senha">
                <button class="btn-main" onclick="doRegister()">Criar Conta</button>
            </div>
            <div class="divider"><span>ou</span></div>
            <button class="btn-guest" onclick="enterGuest()">Jogar como Visitante</button>
            <p style="font-size:11px; color:#aaa; margin-top:15px;">âš ï¸ Visitantes comeÃ§am do zero e nÃ£o salvam!</p>
        </div>
    </div>

    <!-- GAME -->
    <div id="gameScreen">
        <div class="header">
            <div class="userInfo">
                <div class="avatar">ğŸ¦</div>
                <div><span class="userName" id="uName">Jogador</span><span id="uBadge"></span></div>
            </div>
            <div class="stats">
                <div class="stat">ğŸª™ <span id="sCoins">0</span></div>
                <div class="stat">ğŸ’ <span id="sGems">0</span></div>
                <div class="stat">â­ Lv.<span id="sLevel">1</span></div>
                <div class="stat">ğŸ† <span id="sRecord">0</span></div>
            </div>
        </div>
        <div class="mainArea">
            <div class="gameArea">
                <canvas id="canvas" width="400" height="480"></canvas>
                <div class="btns">
                    <button class="btn-play" onclick="startGame('solo')">ğŸ® Solo</button>
                    <button class="btn-coop" onclick="startGame('coop')">ğŸ‘¥ Coop</button>
                    <button class="btn-shop" onclick="openModal('shopModal')">ğŸ›ï¸ Loja</button>
                    <button class="btn-yt" onclick="openModal('ytModal')">ğŸ“º GrÃ¡tis</button>
                    <button class="btn-pix" onclick="openModal('pixModal')">ğŸ’° PIX</button>
                    <button class="btn-admin" id="btnAdmin" onclick="toggleAdmin()">ğŸ‘‘ Admin</button>
                    <button class="btn-out" onclick="logout()">ğŸšª</button>
                </div>
            </div>
            <div class="sidePanel">
                <h3>ğŸ“Š Status</h3>
                <p style="font-size:12px;">ğŸ¯ Modo: <span id="iMode">Menu</span></p>
                <p style="font-size:12px;">ğŸ¦ PÃ¡ssaro: <span id="iBird">PadrÃ£o</span></p>
                <p style="font-size:12px;">âš¡ Skill: <span id="iSkill">Nenhum</span></p>
                <p style="font-size:12px;">ğŸŒ CenÃ¡rio: <span id="iScene">Normal</span></p>
                <p style="font-size:12px;">â˜ï¸ Nuvem: <span id="iCloud">-</span></p>
                <h3>ğŸ ColecionÃ¡veis</h3>
                <div class="colGrid" id="colList"></div>
                <h3>ğŸ“¢ Mensagens</h3>
                <div id="msgLog"><p style="color:#666;">Sem mensagens.</p></div>
            </div>
        </div>
    </div>

    <!-- ADMIN -->
    <div id="adminPanel">
        <div class="adminHead"><h2>ğŸ‘‘ Painel Admin</h2><button class="closeBtn" onclick="toggleAdmin()">âœ–</button></div>
        <div class="adminSection">
            <h4>ğŸ“¢ Mensagem Global</h4>
            <input type="text" id="aMsgTitle" placeholder="TÃ­tulo">
            <textarea id="aMsgText" placeholder="Mensagem..." style="min-height:50px;"></textarea>
            <select id="aMsgColor"><option value="#FFD700">ğŸŸ¡ Dourado</option><option value="#FF4444">ğŸ”´ Vermelho</option><option value="#44FF44">ğŸŸ¢ Verde</option><option value="#4444FF">ğŸ”µ Azul</option></select>
            <button class="btn-broadcast" onclick="sendGlobalMsg()">ğŸ“£ ENVIAR</button>
        </div>
        <div class="adminSection">
            <h4>ğŸ”¥ Evento - PÃ¡ssaros Exclusivos</h4>
            <select id="aEventBird"><option value="ex_thunder">âš¡ TrovÃ£o</option><option value="ex_phoenix">ğŸ”¥ FÃªnix</option><option value="ex_ghost">ğŸ‘» Fantasma</option><option value="ex_dragon">ğŸ‰ DragÃ£o</option><option value="ex_ice">â„ï¸ Gelo</option><option value="ex_shadow">ğŸŒ‘ Sombra</option><option value="ex_angel">ğŸ‘¼ Anjo</option><option value="ex_demon">ğŸ˜ˆ DemÃ´nio</option><option value="ex_cosmic">ğŸŒŒ CÃ³smico</option></select>
            <button class="btn-event" onclick="startBirdEvent()">ğŸ INICIAR EVENTO</button>
        </div>
        <div class="adminSection">
            <h4>ğŸŒ CenÃ¡rio & Dificuldade</h4>
            <select id="aScene"><option value="normal">ğŸŒ¤ï¸ Normal</option><option value="night">ğŸŒ™ Noite</option><option value="sunset">ğŸŒ… PÃ´r do Sol</option><option value="storm">â›ˆï¸ Tempestade</option><option value="space">ğŸŒŒ EspaÃ§o</option><option value="hell">ğŸ”¥ Inferno</option><option value="heaven">â˜ï¸ ParaÃ­so</option></select>
            <select id="aDiff"><option value="easy">ğŸ˜Š FÃ¡cil</option><option value="normal">ğŸ˜ Normal</option><option value="hard">ğŸ˜° DifÃ­cil</option><option value="extreme">ğŸ’€ Extremo</option></select>
            <button class="btn-event" onclick="applySceneDiff()">ğŸŒ APLICAR</button>
        </div>
        <div class="adminSection">
            <h4>ğŸ Dar Recompensas</h4>
            <input type="number" id="aRewardAmt" value="100" placeholder="Quantidade">
            <select id="aRewardType"><option value="coins">ğŸª™ Moedas</option><option value="gems">ğŸ’ Gemas</option></select>
            <button class="btn-reward" onclick="giveReward()">ğŸ DAR PARA TODOS</button>
        </div>
        <div class="adminSection">
            <h4>ğŸ‘¥ Gerenciar Cargos</h4>
            <input type="email" id="aRoleEmail" placeholder="Email do jogador">
            <select id="aRoleType"><option value="player">ğŸ‘¤ Jogador</option><option value="vip">â­ VIP</option><option value="mod">ğŸ›¡ï¸ Moderador</option><option value="admin">ğŸ‘‘ Admin</option></select>
            <button class="btn-role" onclick="setRole()">âœ… DEFINIR</button>
            <div id="roleList" style="margin-top:10px;font-size:10px;color:#888;"></div>
        </div>
        <div class="adminSection">
            <h4>ğŸ Soltar ColecionÃ¡vel</h4>
            <select id="aColDrop"><option value="c1">ğŸ‘‘ Coroa</option><option value="c2">ğŸŒŸ Estrela</option><option value="c3">ğŸ† TrofÃ©u</option><option value="c4">ğŸ’ Diamante</option><option value="c5">ğŸ‰ Escama</option><option value="c6">ğŸª¶ Pena</option><option value="c7">ğŸŒ™ Lua</option><option value="c8">ğŸ”® Cristal</option><option value="c9">â¤ï¸â€ğŸ”¥ CoraÃ§Ã£o</option></select>
            <button class="btn-event" onclick="dropCollectible()">ğŸ SOLTAR</button>
        </div>
    </div>

    <!-- SKILL BAR -->
    <div id="skillBar"><div class="skillBtn ready" id="sBtn" onclick="useSkill()"><span id="sIcon">âš¡</span><span class="cdText" id="sCd"></span></div></div>

    <!-- COOP -->
    <div id="coopInfo"><span><span class="pDot" style="background:#3498db;"></span>P1: W/EspaÃ§o</span><span><span class="pDot" style="background:#e74c3c;"></span>P2: Setas</span></div>

    <!-- NOTIF -->
    <div id="notif"></div>

    <!-- GLOBAL MSG -->
    <div id="globalMsg"><h2 id="gTitle">TÃTULO</h2><p id="gText">Mensagem</p><div class="from" id="gFrom">â€” Admin</div></div>

    <!-- OVERLAY -->
    <div class="overlay" id="overlay"></div>

    <!-- SHOP -->
    <div class="modal" id="shopModal">
        <button class="closeBtn" onclick="closeModal('shopModal')">âœ–</button>
        <h2>ğŸ›ï¸ Loja</h2>
        <div class="tabs" style="margin-bottom:10px;"><button class="active" onclick="shopTab('normal')">ğŸ¦ Normais</button><button onclick="shopTab('exclusive')">ğŸ”¥ Exclusivos</button></div>
        <div id="shopNormal" class="itemGrid"></div>
        <div id="shopExclusive" class="itemGrid" style="display:none;"></div>
    </div>

    <!-- YOUTUBE -->
    <div class="modal" id="ytModal">
        <button class="closeBtn" onclick="closeModal('ytModal')">âœ–</button>
        <div style="text-align:center;">
            <div style="font-size:50px;">ğŸ</div>
            <h2>Item GrÃ¡tis!</h2>
            <p style="margin:15px 0;">Inscreva-se em <strong style="color:#e74c3c;">Dragons_Plays</strong>!</p>
            <button onclick="window.open('https://www.youtube.com/@dragonsplaysofc','_blank')" style="padding:12px 25px;background:#e74c3c;color:white;border:none;border-radius:10px;cursor:pointer;font-weight:bold;">ğŸ“º IR PARA O CANAL</button>
            <div style="margin-top:15px;">
                <input type="text" id="ytIn" placeholder="Digite: Dragons_Plays" style="padding:10px;width:75%;border-radius:8px;border:2px solid #555;background:#222;color:white;">
                <button onclick="verifyYT()" style="margin-top:8px;padding:10px 20px;border:none;border-radius:8px;background:#27ae60;color:white;font-weight:bold;cursor:pointer;">âœ… Verificar</button>
            </div>
        </div>
    </div>

    <!-- PIX -->
    <div class="modal" id="pixModal">
        <button class="closeBtn" onclick="closeModal('pixModal')">âœ–</button>
        <h2>ğŸ’° Loja PIX</h2>
        <p style="text-align:center;color:#00cec9;margin-bottom:15px;font-size:13px;">Chave: yuri.gamarim4@gmail.com</p>
        <div style="background:rgba(255,255,255,0.08);padding:12px;border-radius:12px;margin:8px 0;">
            <strong>ğŸ“¦ Starter - R$ 4,99</strong><p style="font-size:10px;color:#888;">1000 Moedas + 10 Gemas</p>
            <button class="btn-pix" onclick="buyPix('starter',4.99)">Comprar</button>
        </div>
        <div style="background:linear-gradient(135deg,rgba(155,89,182,0.2),rgba(142,68,173,0.2));padding:12px;border-radius:12px;margin:8px 0;border:2px solid #9b59b6;">
            <strong>â­ VIP - R$ 9,99</strong><p style="font-size:10px;color:#888;">3000 Moedas + 30 Gemas + VIP</p>
            <button class="btn-pix" onclick="buyPix('vip',9.99)">Comprar</button>
        </div>
        <div style="background:linear-gradient(135deg,rgba(241,196,15,0.2),rgba(243,156,18,0.2));padding:12px;border-radius:12px;margin:8px 0;border:2px solid #f1c40f;">
            <strong>ğŸ”¥ LENDÃRIO - R$ 19,99</strong><p style="font-size:10px;color:#888;">10000 Moedas + 100 Gemas + TUDO</p>
            <button class="btn-pix" onclick="buyPix('legendary',19.99)">Comprar</button>
        </div>
        <h3 style="margin-top:15px;color:#fdcb6e;">ğŸ”¥ Exclusivos</h3>
        <div id="pixExcl" class="itemGrid"></div>
    </div>

    <!-- PIX PAY -->
    <div class="modal" id="pixPayModal">
        <button class="closeBtn" onclick="closeModal('pixPayModal')">âœ–</button>
        <h2>ğŸ’³ Pagamento PIX</h2>
        <div style="text-align:center;">
            <p id="pxName" style="font-size:18px;font-weight:bold;"></p>
            <p id="pxPrice" style="font-size:26px;color:#00cec9;margin:10px 0;"></p>
            <div style="background:rgba(0,206,201,0.15);padding:15px;border-radius:12px;margin:15px 0;border:2px dashed #00cec9;">
                <p style="font-size:11px;color:#888;">Chave PIX:</p>
                <p style="font-family:monospace;font-size:14px;">yuri.gamarim4@gmail.com</p>
                <button onclick="navigator.clipboard.writeText('yuri.gamarim4@gmail.com');notify('Copiado!')" style="margin-top:8px;padding:8px 20px;background:#00cec9;border:none;border-radius:20px;cursor:pointer;color:white;font-weight:bold;">ğŸ“‹ Copiar</button>
            </div>
            <input type="text" id="pxBuyer" placeholder="Seu nome" style="width:100%;padding:12px;border-radius:10px;border:2px solid #444;background:#222;color:white;margin:10px 0;">
            <button onclick="confirmPix()" style="width:100%;padding:15px;background:linear-gradient(135deg,#27ae60,#1e8449);border:none;border-radius:12px;color:white;font-weight:bold;font-size:16px;cursor:pointer;">âœ… CONFIRMAR</button>
        </div>
    </div>
    <script>
        // ========================================
        // ğŸ”¥ FIREBASE CONFIG - SUBSTITUA COM O SEU!
        // ========================================
        const firebaseConfig = {
            apiKey: "AIzaSyBQxLrX4XfLoRtYPLFryNY0YKXSu6eOSTw",
            authDomain: "skyjumper-dragons.firebaseapp.com",
            projectId: "skyjumper-dragons",
            storageBucket: "skyjumper-dragons.firebasestorage.app",
            messagingSenderId: "383625298057",
            appId: "1:383625298057:web:04101cb0c1ae6162294658"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // ========================================
        // CONFIG
        // ========================================
        const OWNER = { email: "yuri.gamarim4@gmail.com", pass: "4550Riyu@" };

        // PÃSSAROS NORMAIS (30+)
        const BIRDS = [
            { id: 'b_default', name: 'PadrÃ£o', icon: 'ğŸ¤', color: '#FFD700', price: 0 },
            { id: 'b_red', name: 'Vermelho', icon: 'ğŸ”´', color: '#FF4444', price: 100 },
            { id: 'b_blue', name: 'Azul', icon: 'ğŸ”µ', color: '#4444FF', price: 100 },
            { id: 'b_green', name: 'Verde', icon: 'ğŸŸ¢', color: '#44FF44', price: 100 },
            { id: 'b_pink', name: 'Rosa', icon: 'ğŸ©·', color: '#FF69B4', price: 150 },
            { id: 'b_orange', name: 'Laranja', icon: 'ğŸŸ ', color: '#FF8C00', price: 150 },
            { id: 'b_cyan', name: 'Ciano', icon: 'ğŸ©µ', color: '#00CED1', price: 150 },
            { id: 'b_purple', name: 'Roxo', icon: 'ğŸŸ£', color: '#9B59B6', price: 200 },
            { id: 'b_white', name: 'Branco', icon: 'âšª', color: '#FFFFFF', price: 200 },
            { id: 'b_black', name: 'Preto', icon: 'âš«', color: '#1a1a1a', price: 200 },
            { id: 'b_gold', name: 'Dourado', icon: 'ğŸŒŸ', color: '#FFD700', price: 300 },
            { id: 'b_silver', name: 'Prata', icon: 'ğŸ¥ˆ', color: '#C0C0C0', price: 300 },
            { id: 'b_rainbow', name: 'Arco-Ã­ris', icon: 'ğŸŒˆ', color: 'rainbow', price: 500 },
            { id: 'b_neon', name: 'Neon', icon: 'ğŸ’¡', color: '#00FF00', price: 400 },
            { id: 'b_galaxy', name: 'GalÃ¡xia', icon: 'ğŸŒŒ', color: '#4B0082', price: 600 },
            { id: 'b_sunset', name: 'PÃ´r do Sol', icon: 'ğŸŒ…', color: '#FF6347', price: 350 },
            { id: 'b_ocean', name: 'Oceano', icon: 'ğŸŒŠ', color: '#006994', price: 350 },
            { id: 'b_forest', name: 'Floresta', icon: 'ğŸŒ²', color: '#228B22', price: 350 },
            { id: 'b_lava', name: 'Lava', icon: 'ğŸŒ‹', color: '#FF4500', price: 450 },
            { id: 'b_ice', name: 'Gelado', icon: 'ğŸ§Š', color: '#ADD8E6', price: 450 },
            { id: 'b_cherry', name: 'Cereja', icon: 'ğŸ’', color: '#DC143C', price: 300 },
            { id: 'b_mint', name: 'Menta', icon: 'ğŸŒ¿', color: '#98FB98', price: 300 },
            { id: 'b_coral', name: 'Coral', icon: 'ğŸª¸', color: '#FF7F50', price: 350 },
            { id: 'b_lavender', name: 'Lavanda', icon: 'ğŸ’œ', color: '#E6E6FA', price: 350 },
            { id: 'b_ruby', name: 'Rubi', icon: 'â¤ï¸', color: '#E0115F', price: 500 },
            { id: 'b_sapphire', name: 'Safira', icon: 'ğŸ’™', color: '#0F52BA', price: 500 },
            { id: 'b_emerald', name: 'Esmeralda', icon: 'ğŸ’š', color: '#50C878', price: 500 },
            { id: 'b_yt', name: 'YT Premium', icon: 'ğŸ‘‘', color: '#9c27b0', price: 0, yt: true }
        ];

        // 9 EXCLUSIVOS COM PODERES
        const EXCLUSIVES = [
            { id: 'ex_thunder', name: 'TrovÃ£o', icon: 'âš¡', color: '#F1C40F', pix: 5.99, skill: 'Velocidade', desc: '2x rÃ¡pido', cd: 12, fx: 'speed' },
            { id: 'ex_phoenix', name: 'FÃªnix', icon: 'ğŸ”¥', color: '#E74C3C', pix: 7.99, skill: 'Renascer', desc: 'Revive 1x', cd: 60, fx: 'revive' },
            { id: 'ex_ghost', name: 'Fantasma', icon: 'ğŸ‘»', color: '#95A5A6', pix: 6.99, skill: 'Atravessar', desc: 'Atravessa', cd: 18, fx: 'ghost' },
            { id: 'ex_dragon', name: 'DragÃ£o', icon: 'ğŸ‰', color: '#8E44AD', pix: 9.99, skill: 'Fogo', desc: 'DestrÃ³i canos', cd: 20, fx: 'fire' },
            { id: 'ex_ice', name: 'Gelo', icon: 'â„ï¸', color: '#3498DB', pix: 6.99, skill: 'Congelar', desc: 'Para tudo', cd: 15, fx: 'freeze' },
            { id: 'ex_shadow', name: 'Sombra', icon: 'ğŸŒ‘', color: '#2C3E50', pix: 7.99, skill: 'Teleporte', desc: 'Teleporta', cd: 10, fx: 'tp' },
            { id: 'ex_angel', name: 'Anjo', icon: 'ğŸ‘¼', color: '#ECF0F1', pix: 8.99, skill: 'Escudo', desc: 'ProteÃ§Ã£o', cd: 20, fx: 'shield' },
            { id: 'ex_demon', name: 'DemÃ´nio', icon: 'ğŸ˜ˆ', color: '#C0392B', pix: 8.99, skill: 'ExplosÃ£o', desc: 'Explode tudo', cd: 30, fx: 'explode' },
            { id: 'ex_cosmic', name: 'CÃ³smico', icon: 'ğŸŒŒ', color: '#9B59B6', pix: 12.99, skill: 'Tempo', desc: 'Lento', cd: 18, fx: 'slow' }
        ];

        const COLS = [
            { id: 'c1', name: 'Coroa', icon: 'ğŸ‘‘' }, { id: 'c2', name: 'Estrela', icon: 'ğŸŒŸ' }, { id: 'c3', name: 'TrofÃ©u', icon: 'ğŸ†' },
            { id: 'c4', name: 'Diamante', icon: 'ğŸ’' }, { id: 'c5', name: 'Escama', icon: 'ğŸ‰' }, { id: 'c6', name: 'Pena', icon: 'ğŸª¶' },
            { id: 'c7', name: 'Lua', icon: 'ğŸŒ™' }, { id: 'c8', name: 'Cristal', icon: 'ğŸ”®' }, { id: 'c9', name: 'CoraÃ§Ã£o', icon: 'â¤ï¸â€ğŸ”¥' }
        ];

        const SCENES = {
            normal: { bg1: '#87CEEB', bg2: '#E0F6FF', gnd: '#228B22', name: 'Normal' },
            night: { bg1: '#0a0a1a', bg2: '#1a1a30', gnd: '#0a0a15', name: 'Noite' },
            sunset: { bg1: '#FF6B6B', bg2: '#FECA57', gnd: '#8B4513', name: 'PÃ´r do Sol' },
            storm: { bg1: '#3d3d3d', bg2: '#1a1a1a', gnd: '#111', name: 'Tempestade' },
            space: { bg1: '#0a0a20', bg2: '#1a1a40', gnd: '#333366', name: 'EspaÃ§o' },
            hell: { bg1: '#8B0000', bg2: '#FF4500', gnd: '#2d0000', name: 'Inferno' },
            heaven: { bg1: '#FFFAFA', bg2: '#F0F8FF', gnd: '#E6E6FA', name: 'ParaÃ­so' }
        };
        const DIFFS = { easy: { gap: 180, spd: 2 }, normal: { gap: 140, spd: 2.5 }, hard: { gap: 110, spd: 3 }, extreme: { gap: 85, spd: 3.5 } };

        // ESTADO
        let user = null, role = 'player', scene = 'normal', diff = 'normal', state = 'menu', mode = 'solo', score = 0, pixItem = null;
        let data = { coins: 0, gems: 0, level: 1, xp: 0, record: 0, inv: ['b_default'], equipped: 'b_default', cols: [], vip: false, legendary: false, sub: false };
        let roles = {};
        let players = [{ x: 70, y: 230, vy: 0, alive: true }, { x: 70, y: 330, vy: 0, alive: true }];
        let pipes = [], coins = [], particles = [], drops = [];
        let skillOk = true, skillCd = 0, skillMax = 15;
        let fx = { speed: false, ghost: false, shield: false, slow: false, revived: false };
        const canvas = document.getElementById('canvas'), ctx = canvas.getContext('2d');

        // FIREBASE FUNCTIONS
        function hashPass(p) { let h = 0; for (let i = 0; i < p.length; i++) { h = ((h << 5) - h) + p.charCodeAt(i); h = h & h; } return 'h' + Math.abs(h).toString(16); }
        
        async function saveCloud() {
            if (!user || user.guest) return;
            try {
                await db.collection('users').doc(user.email).set({ name: user.name, email: user.email, data: data, role: role, lastSeen: firebase.firestore.FieldValue.serverTimestamp() }, { merge: true });
                document.getElementById('iCloud').textContent = 'âœ… Salvo';
            } catch (e) { document.getElementById('iCloud').textContent = 'âŒ Erro'; }
        }
        
        async function loadCloud(email) {
            try {
                const doc = await db.collection('users').doc(email).get();
                if (doc.exists) { const d = doc.data(); data = d.data || data; role = d.role || 'player'; return true; }
                return false;
            } catch (e) { return false; }
        }
        
        async function registerCloud(name, email, pass) {
            try {
                const doc = await db.collection('accounts').doc(email).get();
                if (doc.exists) return { ok: false, err: 'Email jÃ¡ existe!' };
                await db.collection('accounts').doc(email).set({ name, email, passHash: hashPass(pass), createdAt: firebase.firestore.FieldValue.serverTimestamp() });
                await db.collection('users').doc(email).set({ name, email, data: { coins: 0, gems: 0, level: 1, xp: 0, record: 0, inv: ['b_default'], equipped: 'b_default', cols: [], vip: false, legendary: false, sub: false }, role: 'player', createdAt: firebase.firestore.FieldValue.serverTimestamp() });
                return { ok: true };
            } catch (e) { return { ok: false, err: 'Erro ao criar conta.' }; }
        }
        
        async function verifyCloud(email, pass) {
            try {
                const doc = await db.collection('accounts').doc(email).get();
                if (!doc.exists) return { ok: false, err: 'Email nÃ£o encontrado!' };
                const acc = doc.data();
                if (acc.passHash !== hashPass(pass)) return { ok: false, err: 'Senha incorreta!' };
                return { ok: true, name: acc.name };
            } catch (e) { return { ok: false, err: 'Erro ao conectar.' }; }
        }
        
        async function loadRoles() { try { const doc = await db.collection('config').doc('roles').get(); if (doc.exists) roles = doc.data().list || {}; } catch (e) { } }
        async function saveRoles() { try { await db.collection('config').doc('roles').set({ list: roles }); } catch (e) { } }

        // LOGIN
        function showMsg(msg, type = 'error') { document.getElementById('msgArea').innerHTML = `<div class="msgBox ${type}">${msg}</div>`; }
        function clearMsg() { document.getElementById('msgArea').innerHTML = ''; }
        function switchTab(t) { clearMsg(); document.querySelectorAll('.tabs button').forEach(b => b.classList.remove('active')); event.target.classList.add('active'); document.getElementById('tabLogin').style.display = t === 'login' ? 'block' : 'none'; document.getElementById('tabRegister').style.display = t === 'register' ? 'block' : 'none'; }

        async function doLogin() {
            clearMsg(); const email = document.getElementById('inEmail').value.trim().toLowerCase(), pass = document.getElementById('inPass').value;
            if (!email || !pass) return showMsg('Preencha tudo!');
            showMsg('Entrando...', 'loading');
            if (email === OWNER.email && pass === OWNER.pass) {
                user = { email, name: 'Dragons_Plays', isOwner: true }; role = 'owner';
                data = { coins: 999999, gems: 99999, level: 99, xp: 0, record: 9999, inv: [...BIRDS.map(b => b.id), ...EXCLUSIVES.map(e => e.id)], equipped: 'ex_dragon', cols: COLS.map(c => c.id), vip: true, legendary: true, sub: true };
                enter(); notify('ğŸ‘‘ Bem-vindo, Dono!'); return;
            }
            const r = await verifyCloud(email, pass);
            if (r.ok) { user = { email, name: r.name }; await loadCloud(email); enter(); notify('âœ… Bem-vindo, ' + r.name + '!'); }
            else showMsg(r.err);
        }

        async function doRegister() {
            clearMsg(); const name = document.getElementById('regName').value.trim(), email = document.getElementById('regEmail').value.trim().toLowerCase(), pass = document.getElementById('regPass').value, pass2 = document.getElementById('regPass2').value;
            if (!name || !email || !pass || !pass2) return showMsg('Preencha tudo!');
            if (pass.length < 6) return showMsg('Senha mÃ­nima: 6 caracteres!');
            if (pass !== pass2) return showMsg('Senhas diferentes!');
            if (!email.includes('@')) return showMsg('Email invÃ¡lido!');
            showMsg('Criando conta...', 'loading');
            const r = await registerCloud(name, email, pass);
            if (r.ok) { user = { email, name }; role = 'player'; data = { coins: 0, gems: 0, level: 1, xp: 0, record: 0, inv: ['b_default'], equipped: 'b_default', cols: [], vip: false, legendary: false, sub: false }; enter(); notify('ğŸ‰ Conta criada!'); }
            else showMsg(r.err);
        }

        function enterGuest() { user = { email: 'guest', name: 'Visitante', guest: true }; role = 'player'; data = { coins: 0, gems: 0, level: 1, xp: 0, record: 0, inv: ['b_default'], equipped: 'b_default', cols: [], vip: false, legendary: false, sub: false }; enter(); notify('âš ï¸ Modo visitante - nÃ£o salva!'); }
        function logout() { if (user && !user.guest) saveCloud(); user = null; role = 'player'; document.getElementById('loginScreen').style.display = 'flex'; document.getElementById('gameScreen').style.display = 'none'; document.getElementById('adminPanel').classList.remove('open'); clearMsg(); }

        async function enter() {
            clearMsg(); await loadRoles(); document.getElementById('loginScreen').style.display = 'none'; document.getElementById('gameScreen').style.display = 'block';
            document.getElementById('uName').textContent = user.name;
            let badge = ''; if (user.isOwner || role === 'owner') badge = '<span class="badge badge-owner">ğŸ‘‘ DONO</span>'; else if (role === 'admin') badge = '<span class="badge badge-admin">ğŸ‘‘ ADMIN</span>'; else if (role === 'mod') badge = '<span class="badge badge-mod">ğŸ›¡ï¸ MOD</span>'; else if (data.vip) badge = '<span class="badge badge-vip">â­ VIP</span>';
            document.getElementById('uBadge').innerHTML = badge;
            document.getElementById('btnAdmin').style.display = ['owner', 'admin', 'mod'].includes(role) || user.isOwner ? 'inline-block' : 'none';
            document.getElementById('iCloud').textContent = user.guest ? 'âŒ NÃ£o' : 'âœ… Sim';
            updateUI(); renderCols(); updateRoleList(); draw();
            if (!user.guest) { setInterval(saveCloud, 30000); saveCloud(); }
        }

        // GAME
        function startGame(m) {
            mode = m; state = 'playing'; score = 0; pipes = []; coins = []; particles = []; drops = [];
            fx = { speed: false, ghost: false, shield: false, slow: false, revived: false }; skillOk = true; skillCd = 0;
            players[0] = { x: 70, y: m === 'coop' ? 190 : 240, vy: 0, alive: true }; players[1] = { x: 70, y: 320, vy: 0, alive: true };
            document.getElementById('iMode').textContent = m === 'coop' ? 'Coop' : 'Solo';
            document.getElementById('coopInfo').style.display = m === 'coop' ? 'flex' : 'none';
            const bird = getBird(); if (bird && bird.skill) { document.getElementById('skillBar').style.display = 'flex'; document.getElementById('sIcon').textContent = bird.icon; skillMax = bird.cd || 15; document.getElementById('iSkill').textContent = bird.skill; } else { document.getElementById('skillBar').style.display = 'none'; document.getElementById('iSkill').textContent = 'Nenhum'; }
            loop();
        }

        function getBird() { return BIRDS.find(b => b.id === data.equipped) || EXCLUSIVES.find(e => e.id === data.equipped); }
        function jump(i) { if (state !== 'playing' || !players[i]?.alive) return; players[i].vy = -9; mkPart(players[i].x, players[i].y, getColor(), 4); }
        function getColor() { const b = getBird(); if (!b) return '#FFD700'; if (b.color === 'rainbow') return `hsl(${Date.now()/10%360},100%,50%)`; return b.color; }
        function loop() { if (state !== 'playing') return; update(); draw(); updateSkillUI(); requestAnimationFrame(loop); }

        function update() {
            const d = DIFFS[diff], sl = fx.slow ? 0.4 : 1, sp = fx.speed ? 1.5 : 1, pn = mode === 'coop' ? 2 : 1;
            for (let i = 0; i < pn; i++) { if (!players[i].alive) continue; players[i].vy += 0.5 * sl; players[i].y += players[i].vy * sl; if (players[i].y < 14 || players[i].y > canvas.height - 14) { if (fx.shield) { fx.shield = false; players[i].vy = 0; players[i].y = Math.max(20, Math.min(canvas.height - 20, players[i].y)); } else kill(i); } }
            if (!players.slice(0, pn).some(p => p.alive)) { gameOver(); return; }
            if (pipes.length === 0 || pipes[pipes.length - 1].x < canvas.width - 190) { const gapY = Math.random() * 160 + 70; pipes.push({ x: canvas.width, gapY, gap: d.gap, passed: false }); if (Math.random() < 0.6) coins.push({ x: canvas.width + 25, y: gapY + d.gap / 2 }); }
            for (let i = pipes.length - 1; i >= 0; i--) { pipes[i].x -= d.spd * sl * sp; for (let p = 0; p < pn; p++) { if (!players[p].alive) continue; if (collide(players[p], pipes[i]) && !fx.ghost) { if (fx.shield) { fx.shield = false; mkPart(players[p].x, players[p].y, '#0ff', 15); } else kill(p); } } if (!pipes[i].passed && pipes[i].x + 50 < players[0].x) { pipes[i].passed = true; score++; data.coins += Math.floor(2 * (data.legendary ? 3 : data.vip ? 2 : 1)); updateUI(); } if (pipes[i].x < -60) pipes.splice(i, 1); }
            for (let i = coins.length - 1; i >= 0; i--) { coins[i].x -= d.spd * sl * sp; for (let p = 0; p < pn; p++) { if (!players[p].alive) continue; if (Math.hypot(coins[i].x - players[p].x, coins[i].y - players[p].y) < 26) { data.coins += 5 * (data.legendary ? 3 : data.vip ? 2 : 1); mkPart(coins[i].x, coins[i].y, '#FFD700', 8); coins.splice(i, 1); updateUI(); break; } } if (coins[i] && coins[i].x < -20) coins.splice(i, 1); }
            for (let i = drops.length - 1; i >= 0; i--) { drops[i].x -= 2 * sl; drops[i].y += Math.sin(Date.now() / 200) * 0.3; for (let p = 0; p < pn; p++) { if (!players[p].alive) continue; if (Math.hypot(drops[i].x - players[p].x, drops[i].y - players[p].y) < 32) { const dr = drops[i]; if (dr.type === 'col' && !data.cols.includes(dr.id)) { data.cols.push(dr.id); notify('ğŸ ' + dr.name + '!'); renderCols(); } else if (dr.type === 'bird' && !data.inv.includes(dr.id)) { data.inv.push(dr.id); notify('ğŸ ' + dr.name + '!'); } mkPart(dr.x, dr.y, '#FFD700', 20); drops.splice(i, 1); break; } } if (drops[i] && drops[i].x < -50) drops.splice(i, 1); }
            for (let i = particles.length - 1; i >= 0; i--) { particles[i].x += particles[i].vx; particles[i].y += particles[i].vy; particles[i].vy += 0.1; particles[i].life -= 0.025; if (particles[i].life <= 0) particles.splice(i, 1); }
        }

        function kill(i) { const b = getBird(); if (b && b.fx === 'revive' && !fx.revived) { fx.revived = true; players[i].y = 240; players[i].vy = 0; mkPart(players[i].x, players[i].y, '#FF4500', 25); notify('ğŸ”¥ Renasceu!'); return; } players[i].alive = false; mkPart(players[i].x, players[i].y, '#e74c3c', 20); }
        function collide(p, pipe) { if (p.x + 13 > pipe.x && p.x - 13 < pipe.x + 48) { if (p.y - 13 < pipe.gapY || p.y + 13 > pipe.gapY + pipe.gap) return true; } return false; }
        function gameOver() { state = 'over'; document.getElementById('coopInfo').style.display = 'none'; document.getElementById('skillBar').style.display = 'none'; if (score > data.record) { data.record = score; notify('ğŸ† RECORDE: ' + score); } data.coins += score * 5; data.xp += score * 10; if (data.xp >= data.level * 500) { data.level++; data.xp = 0; } if (user && !user.guest) saveCloud(); updateUI(); setTimeout(() => alert('Game Over!\nPontos: ' + score), 100); }

        // SKILL
        function useSkill() { if (!skillOk || state !== 'playing') return; const b = getBird(); if (!b || !b.fx) return; skillOk = false; skillCd = skillMax; switch(b.fx) { case 'speed': fx.speed = true; setTimeout(() => fx.speed = false, 4000); notify('âš¡ Velocidade!'); break; case 'ghost': fx.ghost = true; setTimeout(() => fx.ghost = false, 3000); notify('ğŸ‘» Fantasma!'); break; case 'shield': fx.shield = true; notify('ğŸ‘¼ Escudo!'); break; case 'slow': case 'freeze': fx.slow = true; setTimeout(() => fx.slow = false, 4000); notify('â„ï¸ Lento!'); break; case 'fire': pipes.splice(0, 2); mkPart(200, 240, '#FF4500', 30); notify('ğŸ‰ Fogo!'); break; case 'tp': players[0].y = Math.max(50, players[0].y - 120); players[0].vy = -3; notify('ğŸŒ‘ Teleporte!'); break; case 'explode': pipes = []; coins = []; mkPart(200, 240, '#f00', 50); notify('ğŸ˜ˆ EXPLOSÃƒO!'); break; } mkPart(players[0].x, players[0].y, b.color, 15); }
        function updateSkillUI() { if (!skillOk) { skillCd -= 1/60; if (skillCd <= 0) { skillOk = true; skillCd = 0; } } const btn = document.getElementById('sBtn'), txt = document.getElementById('sCd'); if (skillOk) { btn.classList.add('ready'); btn.classList.remove('cd'); txt.textContent = ''; } else { btn.classList.remove('ready'); btn.classList.add('cd'); txt.textContent = Math.ceil(skillCd) + 's'; } }

        // DRAW
        function draw() { const sc = SCENES[scene]; const grad = ctx.createLinearGradient(0, 0, 0, canvas.height); grad.addColorStop(0, sc.bg1); grad.addColorStop(1, sc.bg2); ctx.fillStyle = grad; ctx.fillRect(0, 0, canvas.width, canvas.height); ctx.fillStyle = sc.gnd; ctx.fillRect(0, canvas.height - 18, canvas.width, 18); particles.forEach(p => { ctx.globalAlpha = p.life; ctx.fillStyle = p.color; ctx.beginPath(); ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2); ctx.fill(); }); ctx.globalAlpha = 1; ctx.fillStyle = '#228B22'; pipes.forEach(pipe => { ctx.fillRect(pipe.x, 0, 48, pipe.gapY); ctx.fillRect(pipe.x - 4, pipe.gapY - 20, 56, 20); ctx.fillRect(pipe.x, pipe.gapY + pipe.gap, 48, canvas.height); ctx.fillRect(pipe.x - 4, pipe.gapY + pipe.gap, 56, 20); }); ctx.fillStyle = '#FFD700'; coins.forEach(c => { ctx.beginPath(); ctx.arc(c.x, c.y, 10, 0, Math.PI * 2); ctx.fill(); }); drops.forEach(d => { ctx.font = '28px Arial'; ctx.textAlign = 'center'; ctx.textBaseline = 'middle'; ctx.fillText(d.icon, d.x, d.y); }); const pn = mode === 'coop' ? 2 : 1; for (let i = 0; i < pn; i++) { if (players[i].alive) drawBird(players[i], i); } if (fx.shield && players[0].alive) { ctx.strokeStyle = 'rgba(100,200,255,0.7)'; ctx.lineWidth = 4; ctx.beginPath(); ctx.arc(players[0].x, players[0].y, 20, 0, Math.PI * 2); ctx.stroke(); } if (fx.ghost) ctx.globalAlpha = 0.5; ctx.globalAlpha = 1; ctx.fillStyle = 'white'; ctx.strokeStyle = 'black'; ctx.lineWidth = 3; ctx.font = 'bold 40px Arial'; ctx.textAlign = 'center'; ctx.strokeText(score, canvas.width / 2, 50); ctx.fillText(score, canvas.width / 2, 50); if (state === 'menu') { ctx.fillStyle = 'rgba(0,0,0,0.5)'; ctx.fillRect(0, 0, canvas.width, canvas.height); ctx.fillStyle = 'white'; ctx.font = 'bold 28px Arial'; ctx.fillText('Sky Jumper', canvas.width / 2, canvas.height / 2 - 25); ctx.font = '14px Arial'; ctx.fillText('Clique Solo ou Coop', canvas.width / 2, canvas.height / 2 + 10); } }
        function drawBird(p, idx) { const col = idx === 0 ? getColor() : '#e74c3c'; const b = idx === 0 ? getBird() : null; if (b && b.skill) { ctx.globalAlpha = 0.3; ctx.fillStyle = col; ctx.beginPath(); ctx.arc(p.x, p.y, 18, 0, Math.PI * 2); ctx.fill(); ctx.globalAlpha = 1; } ctx.fillStyle = col; ctx.beginPath(); ctx.arc(p.x, p.y, 13, 0, Math.PI * 2); ctx.fill(); ctx.fillStyle = 'white'; ctx.beginPath(); ctx.arc(p.x + 5, p.y - 3, 4, 0, Math.PI * 2); ctx.fill(); ctx.fillStyle = 'black'; ctx.beginPath(); ctx.arc(p.x + 6, p.y - 3, 2, 0, Math.PI * 2); ctx.fill(); ctx.fillStyle = '#FF8C00'; ctx.beginPath(); ctx.moveTo(p.x + 13, p.y); ctx.lineTo(p.x + 20, p.y); ctx.lineTo(p.x + 13, p.y + 4); ctx.fill(); if (b && b.icon) { ctx.font = '11px Arial'; ctx.fillText(b.icon, p.x - 5, p.y - 16); } }
        function mkPart(x, y, color, n) { for (let i = 0; i < n; i++) { particles.push({ x, y, vx: (Math.random() - 0.5) * 8, vy: (Math.random() - 0.5) * 8, color, life: 1, size: Math.random() * 4 + 2 }); } }

        // ADMIN
        function toggleAdmin() { document.getElementById('adminPanel').classList.toggle('open'); }
        function sendGlobalMsg() { const title = document.getElementById('aMsgTitle').value || 'Mensagem', text = document.getElementById('aMsgText').value, color = document.getElementById('aMsgColor').value; if (!text) return notify('Digite algo!'); const gm = document.getElementById('globalMsg'); gm.style.borderColor = color; document.getElementById('gTitle').textContent = title; document.getElementById('gTitle').style.color = color; document.getElementById('gText').textContent = text; document.getElementById('gFrom').textContent = 'â€” ' + user.name; gm.style.display = 'block'; setTimeout(() => gm.style.display = 'none', 6000); const log = document.getElementById('msgLog'); log.innerHTML = `<div style="border-left:3px solid ${color};padding:5px 8px;margin:5px 0;background:rgba(0,0,0,0.3);border-radius:4px;"><strong style="color:${color};">${title}</strong><br>${text}</div>` + log.innerHTML; notify('Enviado!'); }
        function startBirdEvent() { const id = document.getElementById('aEventBird').value, b = EXCLUSIVES.find(e => e.id === id); if (!b) return; showGlobalDirect('ğŸ‰ EVENTO!', `${b.name} ${b.icon} caindo!`, '#FFD700'); for (let i = 0; i < 5; i++) { setTimeout(() => { drops.push({ type: 'bird', id: b.id, name: b.name, icon: b.icon, x: canvas.width + 50, y: Math.random() * 280 + 90 }); }, i * 2000); } if (b.id.includes('ice')) { scene = 'storm'; diff = 'hard'; } else if (b.id.includes('phoenix') || b.id.includes('demon')) { scene = 'hell'; diff = 'hard'; } else if (b.id.includes('angel')) { scene = 'heaven'; diff = 'easy'; } else if (b.id.includes('cosmic')) { scene = 'space'; diff = 'extreme'; } else if (b.id.includes('shadow')) { scene = 'night'; diff = 'hard'; } else { scene = 'sunset'; diff = 'normal'; } document.getElementById('iScene').textContent = SCENES[scene].name; }
        function showGlobalDirect(title, text, color) { const gm = document.getElementById('globalMsg'); gm.style.borderColor = color; document.getElementById('gTitle').textContent = title; document.getElementById('gTitle').style.color = color; document.getElementById('gText').textContent = text; document.getElementById('gFrom').textContent = 'â€” Sistema'; gm.style.display = 'block'; setTimeout(() => gm.style.display = 'none', 5000); }
        function applySceneDiff() { scene = document.getElementById('aScene').value; diff = document.getElementById('aDiff').value; document.getElementById('iScene').textContent = SCENES[scene].name; showGlobalDirect('ğŸŒ MudanÃ§a!', `CenÃ¡rio: ${SCENES[scene].name}`, '#0ff'); draw(); }
        function giveReward() { const amt = parseInt(document.getElementById('aRewardAmt').value) || 0, type = document.getElementById('aRewardType').value; if (amt <= 0) return; if (type === 'coins') data.coins += amt; else data.gems += amt; showGlobalDirect('ğŸ Recompensa!', `+${amt} ${type === 'coins' ? 'moedas' : 'gemas'}!`, '#2ecc71'); updateUI(); }
        async function setRole() { const email = document.getElementById('aRoleEmail').value.trim().toLowerCase(), r = document.getElementById('aRoleType').value; if (!email) return notify('Digite email!'); if (email === OWNER.email) return notify('NÃ£o pode mudar dono!'); roles[email] = r; await saveRoles(); updateRoleList(); notify('Cargo: ' + email + ' â†’ ' + r); }
        function updateRoleList() { let html = '<strong>Cargos:</strong><br>'; for (const [e, r] of Object.entries(roles)) { if (r !== 'player') html += `${e.substring(0,15)}... â†’ ${r}<br>`; } document.getElementById('roleList').innerHTML = html; }
        function dropCollectible() { const id = document.getElementById('aColDrop').value, c = COLS.find(x => x.id === id); if (!c) return; drops.push({ type: 'col', id: c.id, name: c.name, icon: c.icon, x: canvas.width + 50, y: Math.random() * 280 + 90 }); showGlobalDirect('ğŸ ColecionÃ¡vel!', `${c.name} ${c.icon} caindo!`, '#9b59b6'); }

        // UI
        function updateUI() { document.getElementById('sCoins').textContent = data.coins.toLocaleString(); document.getElementById('sGems').textContent = data.gems.toLocaleString(); document.getElementById('sLevel').textContent = data.level; document.getElementById('sRecord').textContent = data.record; const b = getBird(); document.getElementById('iBird').textContent = b?.name || 'PadrÃ£o'; }
        function notify(msg) { const n = document.getElementById('notif'); n.textContent = msg; n.classList.add('show'); setTimeout(() => n.classList.remove('show'), 3000); }
        function openModal(id) { document.getElementById('overlay').style.display = 'block'; document.getElementById(id).style.display = 'block'; if (id === 'shopModal') renderShop(); if (id === 'pixModal') renderPixExcl(); }
        function closeModal(id) { document.getElementById('overlay').style.display = 'none'; document.getElementById(id).style.display = 'none'; }
        function shopTab(t) { document.querySelectorAll('#shopModal .tabs button').forEach(b => b.classList.remove('active')); event.target.classList.add('active'); document.getElementById('shopNormal').style.display = t === 'normal' ? 'grid' : 'none'; document.getElementById('shopExclusive').style.display = t === 'exclusive' ? 'grid' : 'none'; }
        function renderShop() { let html = ''; BIRDS.forEach(b => { if (b.yt && !data.inv.includes(b.id)) return; const own = data.inv.includes(b.id), eq = data.equipped === b.id; html += `<div class="itemCard ${own?'owned':''} ${eq?'equipped':''}" onclick="${own ? `equip('${b.id}')` : (b.yt ? `openModal('ytModal')` : `buy('${b.id}',${b.price})`)}"><div class="itemIcon">${b.icon}</div><div class="itemName">${b.name}</div><div class="itemPrice">${eq ? 'âœ“' : (own ? 'Equipar' : (b.yt ? 'YT' : 'ğŸª™' + b.price))}</div></div>`; }); document.getElementById('shopNormal').innerHTML = html; html = ''; EXCLUSIVES.forEach(e => { const own = data.inv.includes(e.id), eq = data.equipped === e.id; html += `<div class="itemCard exclusive ${own?'owned':''} ${eq?'equipped':''}" onclick="${own ? `equip('${e.id}')` : `buyExcl('${e.id}')`}"><div class="itemIcon">${e.icon}</div><div class="itemName">${e.name}</div><div class="itemPrice">${eq ? 'âœ“' : (own ? 'Equipar' : 'R$' + e.pix)}</div><div class="itemSkill">âš¡${e.skill}</div></div>`; }); document.getElementById('shopExclusive').innerHTML = html; }
        function renderPixExcl() { let html = ''; EXCLUSIVES.forEach(e => { const own = data.inv.includes(e.id); html += `<div class="itemCard exclusive ${own?'owned':''}" onclick="${own ? '' : `buyExcl('${e.id}')`}"><div class="itemIcon">${e.icon}</div><div class="itemName">${e.name}</div><div class="itemPrice">${own ? 'âœ“' : 'R$' + e.pix}</div></div>`; }); document.getElementById('pixExcl').innerHTML = html; }
        function buy(id, price) { if (data.coins < price) return notify('Moedas insuficientes!'); data.coins -= price; data.inv.push(id); data.equipped = id; updateUI(); renderShop(); notify('âœ… Comprado!'); if (user && !user.guest) saveCloud(); }
        function equip(id) { data.equipped = id; updateUI(); renderShop(); notify('âœ… Equipado!'); if (user && !user.guest) saveCloud(); }
        function buyExcl(id) { const e = EXCLUSIVES.find(x => x.id === id); if (!e) return; pixItem = { type: 'bird', id, name: e.name, price: e.pix }; document.getElementById('pxName').textContent = 'ğŸ”¥ ' + e.name + ' ' + e.icon; document.getElementById('pxPrice').textContent = 'R$ ' + e.pix.toFixed(2).replace('.', ','); closeModal('shopModal'); closeModal('pixModal'); openModal('pixPayModal'); }
        function buyPix(pkg, price) { let name = pkg === 'starter' ? 'Starter' : (pkg === 'vip' ? 'VIP' : 'LENDÃRIO'); pixItem = { type: 'pkg', id: pkg, name, price }; document.getElementById('pxName').textContent = 'Pacote ' + name; document.getElementById('pxPrice').textContent = 'R$ ' + price.toFixed(2).replace('.', ','); closeModal('pixModal'); openModal('pixPayModal'); }
        function confirmPix() { const name = document.getElementById('pxBuyer').value.trim(); if (!name) return notify('Digite seu nome!'); if (pixItem.type === 'bird') { if (!data.inv.includes(pixItem.id)) { data.inv.push(pixItem.id); data.equipped = pixItem.id; } } else { const pkg = pixItem.id; if (pkg === 'starter') { data.coins += 1000; data.gems += 10; } else if (pkg === 'vip') { data.coins += 3000; data.gems += 30; data.vip = true; BIRDS.forEach(b => { if (!data.inv.includes(b.id)) data.inv.push(b.id); }); } else { data.coins += 10000; data.gems += 100; data.vip = true; data.legendary = true; BIRDS.forEach(b => { if (!data.inv.includes(b.id)) data.inv.push(b.id); }); EXCLUSIVES.forEach(e => { if (!data.inv.includes(e.id)) data.inv.push(e.id); }); COLS.forEach(c => { if (!data.cols.includes(c.id)) data.cols.push(c.id); }); } } closeModal('pixPayModal'); updateUI(); renderCols(); notify('âœ… Compra realizada!'); if (user && !user.guest) saveCloud(); }
        function verifyYT() { const input = document.getElementById('ytIn').value.trim().toLowerCase(); if (input === 'dragons_plays' || input === 'dragonsplays') { if (!data.inv.includes('b_yt')) { data.inv.push('b_yt'); data.coins += 500; data.equipped = 'b_yt'; } closeModal('ytModal'); updateUI(); notify('ğŸ‰ YT desbloqueado! +500!'); if (user && !user.guest) saveCloud(); } else { notify('âŒ Digite: Dragons_Plays'); } }
        function renderCols() { let html = ''; COLS.forEach(c => { const has = data.cols.includes(c.id); html += `<div class="colItem ${has?'has':''}"><div class="ico">${c.icon}</div><div class="nm">${c.name}</div></div>`; }); document.getElementById('colList').innerHTML = html; }

        // CONTROLS
        document.addEventListener('keydown', e => { if (e.code === 'Space' || e.code === 'KeyW') { e.preventDefault(); jump(0); } if (e.code === 'ArrowUp') { e.preventDefault(); jump(1); } if (e.code === 'KeyQ') useSkill(); });
        canvas.addEventListener('click', () => jump(0));
        document.getElementById('overlay').addEventListener('click', () => { document.querySelectorAll('.modal').forEach(m => m.style.display = 'none'); document.getElementById('overlay').style.display = 'none'; });

        // INIT
        document.getElementById('iScene').textContent = SCENES[scene].name;
        renderCols();
        draw();
    </script>
    // ========================================
// ğŸ® COMANDOS DE CONSOLE (CHEATS)
// ========================================

window.ph1 = function() {
    console.log(`
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘   ğŸ® SKY JUMPER - PAINEL HACKER       â•‘
    â•‘   ğŸ‘‘ Dragons_Plays Edition            â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    ğŸ“‹ COMANDOS DISPONÃVEIS:
    
    ğŸ¯ JOGADOR:
    â””â”€ godmode()        â†’ Modo Deus (imortal)
    â””â”€ maxcoins()       â†’ 999.999 moedas
    â””â”€ maxgems()        â†’ 99.999 gemas
    â””â”€ maxlevel()       â†’ Level 99
    â””â”€ unlockall()      â†’ Desbloquear tudo
    â””â”€ unlockbirds()    â†’ Todos os pÃ¡ssaros
    â””â”€ unlockexcl()     â†’ Todos exclusivos
    â””â”€ unlockcols()     â†’ Todos colecionÃ¡veis
    â””â”€ resetprogress()  â†’ Resetar progresso
    
    ğŸ‘‘ ADMIN:
    â””â”€ becomeadmin()    â†’ Virar admin
    â””â”€ becomeowner()    â†’ Virar dono
    â””â”€ openpanel()      â†’ Abrir painel admin
    
    ğŸ¨ VISUAL:
    â””â”€ rainbow()        â†’ Modo arco-Ã­ris
    â””â”€ bigbird()        â†’ PÃ¡ssaro gigante
    â””â”€ particles(n)     â†’ ExplosÃ£o de partÃ­culas
    â””â”€ disco()          â†’ Modo discoteca
    
    ğŸŒ JOGO:
    â””â”€ setscene('name') â†’ Mudar cenÃ¡rio
    â””â”€ setdiff('name')  â†’ Mudar dificuldade
    â””â”€ nopipes()        â†’ Remover todos os canos
    â””â”€ slowmo()         â†’ CÃ¢mera lenta
    â””â”€ fastmo()         â†’ Velocidade 2x
    â””â”€ addcoins(n)      â†’ Adicionar n moedas
    â””â”€ addgems(n)       â†’ Adicionar n gemas
    
    ğŸ”¥ POWER-UPS:
    â””â”€ speed()          â†’ Velocidade por 10s
    â””â”€ shield()         â†’ Escudo invencÃ­vel
    â””â”€ ghost()          â†’ Atravessar canos
    â””â”€ explode()        â†’ Explodir tudo
    â””â”€ freeze()         â†’ Congelar jogo
    
    â„¹ï¸ INFO:
    â””â”€ stats()          â†’ Ver estatÃ­sticas
    â””â”€ save()           â†’ Salvar agora
    â””â”€ help()           â†’ Mostrar comandos
    
    ğŸ’¡ Use: ph1() para ver este menu
    `);
};

// ğŸ¯ COMANDOS DE JOGADOR
window.godmode = function() {
    window.godModeActive = true;
    notify('âš¡ MODO DEUS ATIVADO!');
    console.log('âœ… VocÃª estÃ¡ imortal!');
};

window.maxcoins = function() {
    data.coins = 999999;
    updateUI();
    notify('ğŸ’° 999.999 MOEDAS!');
    console.log('âœ… Moedas mÃ¡ximas adicionadas!');
};

window.maxgems = function() {
    data.gems = 99999;
    updateUI();
    notify('ğŸ’ 99.999 GEMAS!');
    console.log('âœ… Gemas mÃ¡ximas adicionadas!');
};

window.maxlevel = function() {
    data.level = 99;
    data.xp = 0;
    updateUI();
    notify('â­ LEVEL 99!');
    console.log('âœ… Level mÃ¡ximo alcanÃ§ado!');
};

window.unlockall = function() {
    unlockbirds();
    unlockexcl();
    unlockcols();
    data.vip = true;
    data.legendary = true;
    data.sub = true;
    maxcoins();
    maxgems();
    maxlevel();
    notify('ğŸ‰ TUDO DESBLOQUEADO!');
    console.log('âœ… VocÃª tem TUDO agora!');
};

window.unlockbirds = function() {
    BIRDS.forEach(b => {
        if (!data.inv.includes(b.id)) data.inv.push(b.id);
    });
    renderShop();
    notify('ğŸ¦ Todos os pÃ¡ssaros desbloqueados!');
    console.log('âœ… ' + BIRDS.length + ' pÃ¡ssaros desbloqueados!');
};

window.unlockexcl = function() {
    EXCLUSIVES.forEach(e => {
        if (!data.inv.includes(e.id)) data.inv.push(e.id);
    });
    renderShop();
    notify('ğŸ”¥ Exclusivos desbloqueados!');
    console.log('âœ… ' + EXCLUSIVES.length + ' exclusivos desbloqueados!');
};

window.unlockcols = function() {
    COLS.forEach(c => {
        if (!data.cols.includes(c.id)) data.cols.push(c.id);
    });
    renderCols();
    notify('ğŸ’ ColecionÃ¡veis completos!');
    console.log('âœ… ' + COLS.length + ' colecionÃ¡veis obtidos!');
};

window.resetprogress = function() {
    if (confirm('âš ï¸ Resetar TODO o progresso?')) {
        data = {
            coins: 0, gems: 0, level: 1, xp: 0, record: 0,
            inv: ['b_default'], equipped: 'b_default', cols: [],
            vip: false, legendary: false, sub: false
        };
        updateUI();
        renderCols();
        notify('ğŸ”„ Progresso resetado!');
        console.log('âœ… Tudo foi resetado!');
    }
};

// ğŸ‘‘ COMANDOS ADMIN
window.becomeadmin = function() {
    role = 'admin';
    document.getElementById('btnAdmin').style.display = 'inline-block';
    document.getElementById('uBadge').innerHTML = '<span class="badge badge-admin">ğŸ‘‘ ADMIN</span>';
    notify('ğŸ‘‘ VocÃª Ã© ADMIN!');
    console.log('âœ… Admin ativado!');
};

window.becomeowner = function() {
    role = 'owner';
    user = {email: 'hacker@local', name: 'HACKER', isOwner: true};
    document.getElementById('uName').textContent = 'HACKER';
    document.getElementById('btnAdmin').style.display = 'inline-block';
    document.getElementById('uBadge').innerHTML = '<span class="badge badge-owner">ğŸ‘‘ DONO</span>';
    unlockall();
    notify('ğŸ‘‘ VocÃª Ã© o DONO!');
    console.log('âœ… Dono ativado! VocÃª tem TUDO!');
};

window.openpanel = function() {
    becomeadmin();
    document.getElementById('adminPanel').classList.add('open');
    notify('ğŸ“‹ Painel Admin aberto!');
};

// ğŸ¨ COMANDOS VISUAIS
window.rainbow = function() {
    window.rainbowMode = true;
    notify('ğŸŒˆ MODO ARCO-ÃRIS!');
    console.log('âœ… Efeito rainbow ativado!');
};

window.bigbird = function() {
    window.bigBirdMode = !window.bigBirdMode;
    notify(window.bigBirdMode ? 'ğŸ¦ PÃSSARO GIGANTE!' : 'ğŸ¦ Tamanho normal');
    console.log('âœ… Big bird: ' + (window.bigBirdMode ? 'ON' : 'OFF'));
};

window.particles = function(n = 100) {
    mkPart(200, 240, '#FFD700', n);
    notify('âœ¨ EXPLOSÃƒO!');
    console.log('âœ… ' + n + ' partÃ­culas criadas!');
};

window.disco = function() {
    window.discoMode = !window.discoMode;
    notify(window.discoMode ? 'ğŸµ DISCO MODE!' : 'ğŸµ Modo normal');
    if (window.discoMode) {
        let i = 0;
        window.discoInterval = setInterval(() => {
            scene = ['normal','night','sunset','storm','space','hell','heaven'][i++ % 7];
            draw();
        }, 500);
    } else {
        clearInterval(window.discoInterval);
        scene = 'normal';
    }
};

// ğŸŒ COMANDOS DE JOGO
window.setscene = function(name) {
    if (SCENES[name]) {
        scene = name;
        document.getElementById('iScene').textContent = SCENES[name].name;
        draw();
        notify('ğŸŒ CenÃ¡rio: ' + SCENES[name].name);
        console.log('âœ… CenÃ¡rio mudado para: ' + name);
    } else {
        console.log('âŒ CenÃ¡rios: normal, night, sunset, storm, space, hell, heaven');
    }
};

window.setdiff = function(name) {
    if (DIFFS[name]) {
        diff = name;
        notify('âš™ï¸ Dificuldade: ' + name.toUpperCase());
        console.log('âœ… Dificuldade mudada para: ' + name);
    } else {
        console.log('âŒ Dificuldades: easy, normal, hard, extreme');
    }
};

window.nopipes = function() {
    pipes = [];
    notify('ğŸš« Canos removidos!');
    console.log('âœ… Todos os canos foram removidos!');
};

window.slowmo = function() {
    window.slowMoActive = !window.slowMoActive;
    fx.slow = window.slowMoActive;
    notify(window.slowMoActive ? 'ğŸŒ CÃ¢mera lenta!' : 'âš¡ Velocidade normal');
};

window.fastmo = function() {
    window.fastMoActive = !window.fastMoActive;
    fx.speed = window.fastMoActive;
    notify(window.fastMoActive ? 'âš¡ VELOCIDADE 2X!' : 'ğŸŒ Velocidade normal');
};

window.addcoins = function(n = 1000) {
    data.coins += n;
    updateUI();
    notify('ğŸ’° +' + n + ' moedas!');
    console.log('âœ… ' + n + ' moedas adicionadas!');
};

window.addgems = function(n = 100) {
    data.gems += n;
    updateUI();
    notify('ğŸ’ +' + n + ' gemas!');
    console.log('âœ… ' + n + ' gemas adicionadas!');
};

// ğŸ”¥ POWER-UPS
window.speed = function() {
    fx.speed = true;
    setTimeout(() => fx.speed = false, 10000);
    notify('âš¡ VELOCIDADE 10s!');
};

window.shield = function() {
    fx.shield = true;
    notify('ğŸ›¡ï¸ ESCUDO ATIVO!');
};

window.ghost = function() {
    fx.ghost = true;
    setTimeout(() => fx.ghost = false, 5000);
    notify('ğŸ‘» FANTASMA 5s!');
};

window.explode = function() {
    pipes = [];
    coins = [];
    mkPart(200, 240, '#FF0000', 100);
    notify('ğŸ’¥ EXPLOSÃƒO!');
};

window.freeze = function() {
    fx.slow = true;
    setTimeout(() => fx.slow = false, 5000);
    notify('â„ï¸ CONGELADO 5s!');
};

// â„¹ï¸ INFO
window.stats = function() {
    console.log(`
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    ğŸ“Š ESTATÃSTICAS DO JOGADOR
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    ğŸ‘¤ Nome: ${user ? user.name : 'N/A'}
    ğŸ“§ Email: ${user ? user.email : 'N/A'}
    ğŸ‘‘ Cargo: ${role}
    
    ğŸ’° Moedas: ${data.coins.toLocaleString()}
    ğŸ’ Gemas: ${data.gems.toLocaleString()}
    â­ Level: ${data.level}
    ğŸ¯ XP: ${data.xp}
    ğŸ† Recorde: ${data.record}
    
    ğŸ¦ PÃ¡ssaros: ${data.inv.length}/${BIRDS.length + EXCLUSIVES.length}
    ğŸ’ ColecionÃ¡veis: ${data.cols.length}/${COLS.length}
    
    â­ VIP: ${data.vip ? 'SIM' : 'NÃƒO'}
    ğŸ”¥ Legendary: ${data.legendary ? 'SIM' : 'NÃƒO'}
    ğŸ“º YT Sub: ${data.sub ? 'SIM' : 'NÃƒO'}
    
    ğŸ® Equipado: ${data.equipped}
    ğŸŒ CenÃ¡rio: ${scene}
    âš™ï¸ Dificuldade: ${diff}
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    `);
};

window.save = function() {
    if (user && !user.guest) {
        saveCloud();
        console.log('âœ… Salvo na nuvem!');
    } else {
        console.log('âš ï¸ Visitantes nÃ£o podem salvar!');
    }
};

window.help = function() {
    ph1();
};

// Modificar funÃ§Ã£o kill para respeitar godmode
const originalKill = kill;
kill = function(i) {
    if (window.godModeActive) {
        mkPart(players[i].x, players[i].y, '#FFD700', 15);
        notify('âš¡ IMORTAL!');
        return;
    }
    originalKill(i);
};

// Modificar drawBird para bigbird e rainbow
const originalDrawBird = drawBird;
drawBird = function(p, idx) {
    if (window.bigBirdMode) {
        ctx.save();
        ctx.translate(p.x, p.y);
        ctx.scale(2, 2);
        ctx.translate(-p.x, -p.y);
        originalDrawBird(p, idx);
        ctx.restore();
    } else {
        originalDrawBird(p, idx);
    }
};

// Mensagem de boas-vindas
console.log('%cğŸ® SKY JUMPER - CONSOLE ATIVADO!', 'font-size:20px; color:#FFD700; font-weight:bold;');
console.log('%cDigite ph1() para ver todos os comandos!', 'font-size:14px; color:#00ff00;');
console.log('%cğŸ‘‘ Dragons_Plays Edition', 'font-size:12px; color:#888;');
</body>
</html>

